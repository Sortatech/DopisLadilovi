@page "/"
@inject IJSRuntime JS

@code {
    private string passphrase = string.Empty;
    private bool isAuthenticated = false;
    private string challenge = string.Empty;

    protected override async Task OnInitializedAsync()
    {
        // Get the challenge string from the JS file
        challenge = await JS.InvokeAsync<string>("getChallenge");
    }

    private async Task CheckPassphrase()
    {
        // Validate the passphrase using the JS function
        isAuthenticated = await JS.InvokeAsync<bool>("validatePassphrase", passphrase);
    }
}

@if (!isAuthenticated)
{
    <div class="overlay">
        <div class="challenge-box">
            <p>@challenge</p>
            <input @bind="passphrase" placeholder="Enter passphrase" />
            <button @onclick="CheckPassphrase">Submit</button>
        </div>
    </div>
}
else
{
    <div class="content">
        <h1>Welcome to the protected content</h1>
        <p class="grey">Milý příteli,</p>
        <pre>
    umělou vagínu, umělou inteligencí vybavenou,
    žel nakonec nemáš v obálkách tučných přibalenou.
    Tu zaházeli v ložnici dělníci konstrukcí při rekonstrukci.

    Zavděk, prosím, vezmi míčem,
    trudomyslnosti bičem.
    Je z řady ten nejvíc hebký,
    gumička je v příslušenství,
    bys ho přived k poslušenství.

    Váhám, či jak solidér oholím si svojí lebky,
    či brko vezmu do ruky,
    teď když rukou musíš psát,
    inkoust perem zkusím vsát,
    a dopis Ti přichystat.

    Bit či ne-bit, být či nebýt, člověk míní, život mění,*
    Klišé?!! Touché!
    Být či být, jiná možnost možná kruci není!
    Nebo je?
    Ne! Kočka žije!** 

    Tedy ještě podaruji Tě,
    v naší virtuální realitě,
    okuláry k virtuální realitě,
    aby se Ti lépe zvracelo,
    kdyby ti nestačila ta skutečná, ta naše.

    Pozn.: Gumicuk lze použít obecně, aby se Ti vracelo,
    co chceš, aby se ti vracelo:

    manželka,
    tvá pánská kabelka,

    nebo ňáká šikovná sestřička,
    bez trička,

    nebo s tričkem s kočkou stále živou, nebo bratr,
    kognice i kondice,

    děti, ať jste zase v pěti
    vtipnost a vtipnost(***),

    mladost, ze života radost,
    jediný problém je umět to správně uvázat.

    * tady není Krakonošovo, „Tady je „Kvantovo“!“, proto tam nejsou čárky 😉
    ** teď nemyslím ty kolotočáře
    *** všimni si, že schválně nepíšu synonymum toho slova, protože s tím se rýmuje takový ošklivý a zlý - nepěkná věc! Ale se slovem vtipnost se na druhou stranu dá svořit pěkný absolutní rým, Protože se s tím skoro nic nerýmuje, tedy kromě slova cypnost, ale není v Ottově slovníku naučném a nezná ho ani google(mimo archivu obce Číž, ale přišlo mi to jako ňákej renonc), tak jsem si to neuznal. Ale protože mi přišlo, že úplně přesně nevěděls, kde je pahrbek geniality, pořídil jsem ti maximus videoopus her Divadla Járy Cimrmana. Sehnat to nebylo úplně snadné, ale snad ti to s tím tumorem pomůže. Kdybys náhodou neměl mechaniku, jednu jsem zprovoznil a můžu půjčit, ale musíš mi slíbit, že do toho nebudeš hrabat prackama, když to bude zapnuté.

    PS: Můj básnický talent mi zajistil manželku, takže si myslím, že jsem v tom prostě dobrej - tím pádem vyjádření v takovéto lyrizující formě mi přijde, jako dobrej nápad! Indžój.

    A jak se říká mezi námi programátory – „Stay DRY!“
    </pre>
        <p class="grey">0re1</p>
    </div>
}